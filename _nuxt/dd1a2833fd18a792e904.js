(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{187:function(t,e,n){var content=n(190);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(32).default)("170c4f74",content,!0,{sourceMap:!1})},189:function(t,e,n){"use strict";var r=n(187);n.n(r).a},190:function(t,e,n){(t.exports=n(31)(!1)).push([t.i,".block-left[data-v-0b8b07d9],.block-right[data-v-0b8b07d9]{width:50%;float:left;padding:15px}",""])},206:function(t,e,n){"use strict";n.r(e);n(44);var r=n(7),l=n(83),o=n.n(l),c=function(t){if(!("indexedDB"in window))throw new Error("Browser does not support IndexedDB");return indexedDB.open("sync-data",1,function(t){console.log("making a new object store"),t.objectStoreNames.contains("syscRequest")||t.createObjectStore("syscRequest")})},d={data:function(){return{articles:[],headers:[{text:"Artist"},{text:"AlbumTitle"},{text:"SongTitle"}],isOnline:!0}},mounted:function(){var t=this;if(localStorage.getItem("offlineRequest")){var e=JSON.parse(localStorage.getItem("offlineRequest"));o.a.post("https://4ro9u5dkc7.execute-api.us-east-2.amazonaws.com/demo-pwa/sync",{listData:e}).then(function(e){localStorage.removeItem("offlineRequest"),alert("Data was sync"),t.getAllData()}).catch(function(e){throw t.getAllData(),e})}else this.getAllData()},methods:{saveToStorage:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e,n){var r,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c();case 3:return r=t.sent,l=r.transaction(e,"readwrite"),l.objectStore(e).add(n),t.abrupt("return",l.complete);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e,n){return t.apply(this,arguments)}}(),getAllData:function(){var t=this;this.isOnline=!0,o.a.get("https://4ro9u5dkc7.execute-api.us-east-2.amazonaws.com/demo-pwa/list").then(function(e){localStorage.setItem("listData",JSON.stringify(e.data)),t.articles=e.data}).catch(function(e){if("Network Error"!==e.message)throw e;t.articles=JSON.parse(localStorage.getItem("listData")),alert("You have lost internet access!")})},saveData:function(){var t=this;o.a.post("https://4ro9u5dkc7.execute-api.us-east-2.amazonaws.com/demo-pwa/save",{artist:document.getElementsByName("artist")[0].value,album:document.getElementsByName("album")[0].value,song:document.getElementsByName("song")[0].value}).then(function(e){t.getAllData()}).catch(function(t){if("Network Error"!==t.message)throw t;var e={artist:document.getElementsByName("artist")[0].value,album:document.getElementsByName("album")[0].value,song:document.getElementsByName("song")[0].value},n=localStorage.getItem("offlineRequest");(n=n?JSON.parse(n):[]).push(e),localStorage.setItem("offlineRequest",JSON.stringify(n)),alert("You are offline! When your internet returns, we'll finish up your request.")})}}},v=(n(189),n(30)),component=Object(v.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"block-left"},[n("table",{staticClass:"table is-bordered is-fullwidth"},[n("tr",[n("th",[t._v("No")]),t._v(" "),t._l(t.headers,function(e,r){return n("th",{key:r},[t._v(t._s(e.text))])})],2),t._v(" "),t._l(t.articles,function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(r+1))]),t._v(" "),n("td",[t._v(t._s(e.Artist.S))]),t._v(" "),n("td",[t._v(t._s(e.AlbumTitle.S))]),t._v(" "),n("td",[t._v(t._s(e.SongTitle.S))])])})],2)]),t._v(" "),n("div",{staticClass:"block-right"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),n("div",{staticClass:"field is-grouped"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-link",on:{click:t.saveData}},[t._v("Submit")])]),t._v(" "),t._m(3)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field "},[e("label",{staticClass:"label"},[this._v("Artist")]),this._v(" "),e("div",{staticClass:"control"},[e("input",{staticClass:"input",attrs:{type:"text",name:"artist"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field "},[e("label",{staticClass:"label"},[this._v("Album Title")]),this._v(" "),e("div",{staticClass:"control"},[e("input",{staticClass:"input",attrs:{type:"text",name:"album"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field "},[e("label",{staticClass:"label"},[this._v("Song Title")]),this._v(" "),e("div",{staticClass:"control"},[e("input",{staticClass:"input",attrs:{type:"text",name:"song"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control"},[e("button",{staticClass:"button is-text"},[this._v("Cancel")])])}],!1,null,"0b8b07d9",null);e.default=component.exports}}]);